<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <style>
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
      .container { max-width: 600px; margin: 0 auto; padding: 20px; }
      .header { background-color: #570df8; color: white; padding: 20px; text-align: center; }
      .content { padding: 20px; background-color: #f5f5f5; }
      .stats { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; }
      .stat-item { margin: 10px 0; }
      .user-details { background: white; padding: 15px; margin: 20px 0; border-radius: 8px; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>New User Registration</h1>
      </div>

      <div class="content">
        <div class="user-details">
          <h2>User Details</h2>
          <p><strong>Username:</strong> <%= @user.username %></p>
          <p><strong>Registered:</strong> <%= @user.created_at.strftime("%B %d, %Y at %I:%M %p %Z") %></p>
        </div>

        <div class="stats">
          <h2>Current Platform Stats</h2>
          <div class="stat-item">
            <strong>Total Users:</strong> <%= @total_users %>
          </div>
          <div class="stat-item">
            <strong>Total Headache Logs:</strong> <%= @total_headache_logs %>
          </div>
          <div class="stat-item">
            <strong>Average Logs per User:</strong> <%= @average_logs_per_user %>
          </div>
          <div class="stat-item">
            <strong>Changelog Seen:</strong> <%= @changelog_percentage %>% (<%= @users_seen_changelog %> of <%= @total_users %> users)
          </div>
        </div>

        <p style="margin-top: 20px;">
          <%= link_to "View Admin Dashboard", admin_dashboard_url, style: "background-color: #570df8; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;" %>
        </p>
      </div>
    </div>
  </body>
</html>
