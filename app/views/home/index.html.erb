<!-- Hero Section -->
<section class="bg-indigo-600 text-white">
  <div class="hero min-h-[50vh]">
    <div class="hero-content text-center">
      <div class="max-w-2xl">
        <h1 class="text-4xl md:text-6xl font-bold mb-6">Take Control of Your Cluster Headaches</h1>
        <p class="text-xl md:text-2xl mb-8">Track your attacks, identify patterns, and share insights with your healthcare provider - all in one intuitive, privacy-focused tool.</p>
        <%= link_to user_signed_in? ? headache_logs_path : new_user_registration_path, class: "btn btn-lg btn-primary bg-white text-indigo-600 hover:bg-indigo-100 border-none mb-8" do %>
          <%= heroicon "arrow-right", variant: "mini", class: "w-5 h-5" %>
          Start Tracking Free
        <% end %>

        <!-- Mobile App Links -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="https://testflight.apple.com/join/GJsAQqz2" target="_blank" rel="noopener noreferrer"
             class="btn btn-outline border-white text-white hover:bg-white hover:text-indigo-600 hover:border-white">
            <%= icon "ios", class: "w-6 h-6", fill: "currentColor" %>
            Get iOS App (Beta)
          </a>
          <a href="/cluster-headache-tracker.apk" target="_blank" rel="noopener noreferrer"
             class="btn btn-outline border-white text-white hover:bg-white hover:text-indigo-600 hover:border-white">
            <%= icon "android", class: "w-6 h-6", fill: "currentColor" %>
            Get Android App (Beta)
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Demo Section -->
<section class="bg-base-200 py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">See How It Works</h2>
      <p class="text-xl text-base-content/80 max-w-2xl mx-auto">A simple, intuitive interface designed specifically for tracking cluster headaches.</p>
    </div>
    <div class="max-w-6xl mx-auto">
      <div class="aspect-w-16 aspect-h-9 relative">
        <video id="demo-video" class="w-full h-full rounded-lg shadow-xl" controls loop muted>
          <source src="/videos/demo.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <div id="play-button" class="absolute inset-0 flex items-center justify-center cursor-pointer bg-black/20 hover:bg-black/10 transition-colors rounded-lg">
          <button class="btn btn-circle btn-lg bg-indigo-600 hover:bg-indigo-700 border-none">
            <%= heroicon "play", class: "w-8 h-8" %>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">From Our Community</h2>
      <p class="text-xl text-base-content/80 max-w-2xl mx-auto">Real feedback from cluster headache sufferers</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <!-- Success Story -->
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <%= heroicon "check-badge", class: "w-8 h-8 text-primary mb-4" %>
          <blockquote class="relative mb-4">
            <p class="text-lg font-medium">
              "I use your site for my headache tracking and it was incredibly helpful with my neuro to get oxygen [...] it's easy to use and it tracks the data I need it to track."
            </p>
          </blockquote>
          <div class="flex items-center gap-2">
            <div class="h-px flex-1 bg-base-content/10"></div>
            <span class="text-sm font-medium opacity-70">/u/SuprN10doChlmrs</span>
            <div class="h-px flex-1 bg-base-content/10"></div>
          </div>
        </div>
      </div>

      <!-- Found Solution -->
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <%= heroicon "sparkles", class: "w-8 h-8 text-secondary mb-4" %>
          <blockquote class="relative mb-4">
            <p class="text-lg font-medium">
              "This is a tool I never knew I needed. Thank you for this."
            </p>
          </blockquote>
          <div class="flex items-center gap-2">
            <div class="h-px flex-1 bg-base-content/10"></div>
            <span class="text-sm font-medium opacity-70">/u/Guirita_Fallada</span>
            <div class="h-px flex-1 bg-base-content/10"></div>
          </div>
        </div>
      </div>

      <!-- Long Search -->
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <%= heroicon "heart", class: "w-8 h-8 text-accent mb-4" %>
          <blockquote class="relative mb-4">
            <p class="text-lg font-medium">
              "Thank you again I've been looking for something like this"
            </p>
          </blockquote>
          <div class="flex items-center gap-2">
            <div class="h-px flex-1 bg-base-content/10"></div>
            <span class="text-sm font-medium opacity-70">/u/Maximum-Replacement4</span>
            <div class="h-px flex-1 bg-base-content/10"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section id="features" class="bg-base-200 py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Everything You Need</h2>
      <p class="text-xl text-base-content/80 max-w-2xl mx-auto">Purpose-built features that help you understand your condition better and communicate effectively with your healthcare team.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üìä</div>
          <h3 class="card-title">Smart Analytics</h3>
          <p>Visualize patterns in your headache cycles, track effectiveness of treatments, and identify potential triggers through interactive charts.</p>
        </div>
      </div>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">‚ö°Ô∏è</div>
          <h3 class="card-title">Quick Logging</h3>
          <p>Log attacks in seconds with our streamlined interface. Track intensity, duration, medications, and triggers with just a few taps.</p>
        </div>
      </div>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">ü©∫</div>
          <h3 class="card-title">Doctor-Ready Reports</h3>
          <p>Share your detailed history securely with your healthcare provider. Many users have successfully used these reports to get oxygen therapy approved.</p>
        </div>
      </div>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üì±</div>
          <h3 class="card-title">Cross-Platform Access</h3>
          <p>Track your headaches from any device. Native apps available for iOS and Android (beta), plus a full-featured web interface.</p>
        </div>
      </div>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üîí</div>
          <h3 class="card-title">Privacy First</h3>
          <p>Your data is encrypted and stored in Germany. No email required - just choose a username to get started.</p>
        </div>
      </div>
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üí™</div>
          <h3 class="card-title">Built by Patients</h3>
          <p>Created by cluster headache sufferers, for cluster headache sufferers. We understand because we live it.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Device Compatibility Section -->
<section class="bg-emerald-600 py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Use It Anywhere</h2>
      <p class="text-xl max-w-2xl mx-auto">Access your headache tracker from any device with a seamless, responsive experience.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üì±</div>
          <h3 class="card-title text-base-content">Native Apps</h3>
          <p class="mb-4 text-base-content/80">Get the best experience with our dedicated mobile apps.</p>
          <div class="card-actions justify-center">
            <a href="https://testflight.apple.com/join/GJsAQqz2" target="_blank" rel="noopener noreferrer"
               class="btn btn-outline">
              <%= icon "ios", class: "w-6 h-6", fill: "currentColor" %>
              Get iOS App (Beta)
            </a>
            <a href="/cluster-headache-tracker.apk" target="_blank" rel="noopener noreferrer"
               class="btn btn-outline">
              <%= icon "android", class: "w-6 h-6", fill: "currentColor" %>
              Get Android App (Beta)
            </a>
          </div>
        </div>
      </div>

      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <div class="text-4xl mb-4">üíª</div>
          <h3 class="card-title text-base-content">Web Version</h3>
          <p class="mb-4 text-base-content/80">Don't want to install an app? Our mobile-friendly website works great on any device:</p>
          <ul class="list-disc list-inside space-y-2 text-base-content/80 mb-6">
            <li>Optimized for all screen sizes</li>
            <li>Fast and responsive</li>
            <li>Works on any modern browser</li>
            <li>No installation required</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Open Source Section -->
<section class="bg-emerald-500 text-white py-16">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4">Community-Driven & Free Forever</h2>
    <p class="text-xl mb-8 max-w-2xl mx-auto">Join a growing community of patients and developers making cluster headache tracking better for everyone. Open source under GPL-3.0 license.</p>
    <a href="https://github.com/crmne/cluster_headache_tracker" target="_blank" rel="noopener noreferrer"
       class="btn btn-outline border-white text-white hover:bg-white hover:text-emerald-600 hover:border-white">
      <%= icon "github", class: "w-6 h-6", fill: "currentColor" %>
      View on GitHub
    </a>
  </div>
</section>

<!-- Support Section -->
<section class="bg-amber-500 text-white py-16">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4">Support This Project</h2>
    <p class="text-xl mb-8 max-w-2xl mx-auto">Help us keep developing better tools for the cluster headache community. Every contribution helps us stay independent and free for everyone.</p>
    <a href="https://buymeacoffee.com/crmne" target="_blank" rel="noopener noreferrer"
       class="btn btn-outline border-white text-white hover:bg-white hover:text-amber-500 hover:border-white">
      üçï Buy Me a Pizza
    </a>
  </div>
</section>

<!-- Final CTA Section -->
<section class="py-20">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4">Ready to Take Control?</h2>
    <p class="text-xl text-base-content/80 max-w-2xl mx-auto mb-8">Join thousands of cluster headache sufferers who are better understanding and managing their condition.</p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <%= link_to user_signed_in? ? headache_logs_path : new_user_registration_path, class: "btn btn-lg btn-primary" do %>
        <%= heroicon "arrow-right", variant: "mini", class: "w-5 h-5" %>
        <%= user_signed_in? ? "Go to My Logs" : "Start Free Tracking" %>
      <% end %>

      <%= link_to faq_path, class: "btn btn-lg btn-outline" do %>
        <%= heroicon "question-mark-circle", variant: "mini", class: "w-5 h-5" %>
        Learn More
      <% end %>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const video = document.getElementById('demo-video');
    const playButton = document.getElementById('play-button');

    // Set playback rate to 0.75 (75% speed)
    video.playbackRate = 0.75;

    playButton.addEventListener('click', function() {
      if (video.paused) {
        video.play();
        playButton.style.display = 'none';
      }
    });

    video.addEventListener('pause', function() {
      playButton.style.display = 'flex';
    });

    video.addEventListener('play', function() {
      playButton.style.display = 'none';
    });

    // Ensure the playback rate is set whenever the video loads
    video.addEventListener('loadedmetadata', function() {
      video.playbackRate = 0.75;
    });
  });
</script>
