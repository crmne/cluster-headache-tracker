<!-- Hero Section -->
<section class="bg-indigo-600 text-white">
  <div class="container mx-auto px-4 py-20 flex flex-col items-center text-center">
    <h1 class="text-4xl md:text-6xl font-bold mb-4">Cluster Headache Tracker</h1>
    <p class="text-xl md:text-2xl mb-8">Track your cluster headaches and share them with your doctor with our free, comprehensive, privacy-focused tracking tool.</p>
    <%= link_to "Get Started", user_signed_in? ? headache_logs_path : new_user_registration_path, class: "bg-white text-indigo-600 font-bold py-3 px-6 rounded-full text-lg hover:bg-indigo-100 transition duration-300" %>

    <!-- Add TestFlight and Android Beta Links -->
    <div class="mt-8 flex flex-col sm:flex-row gap-6">
      <a href="https://testflight.apple.com/join/GJsAQqz2" target="_blank" rel="noopener noreferrer" class="bg-blue-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-blue-600 transition duration-300 flex items-center justify-center">
        <svg class="w-6 h-6 mr-2" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.32 2.32-1.89 4.27-3.74 4.25z" />
        </svg>
        Download iOS Beta App
      </a>
      <a href="https://tally.so/r/w5qXLM" target="_blank" rel="noopener noreferrer" class="bg-green-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-green-600 transition duration-300 flex items-center justify-center">
        <svg class="w-6 h-6 mr-2" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z" />
        </svg>
        Apply for Android Beta App
      </a>
    </div>
  </div>
</section>

<!-- Screen Recording Demo Section -->
<section class="pb-20 bg-indigo-600 text-white">
  <div class="container mx-auto px-4">
    <div class="max-w-6xl mx-auto">
      <div class="aspect-w-16 aspect-h-9 relative">
        <video id="demo-video" class="w-full h-full" controls loop muted>
          <source src="/videos/demo.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <div id="play-button" class="absolute inset-0 flex items-center justify-center cursor-pointer">
          <div class="bg-gray-500 rounded-full w-20 h-20 flex items-center justify-center shadow-lg">
            <svg class="w-12 h-12 text-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 5V19L19 12L8 5Z" fill="currentColor" />
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const video = document.getElementById('demo-video');
    const playButton = document.getElementById('play-button');

    // Set playback rate to 0.5 (50% speed)
    video.playbackRate = 0.75;

    playButton.addEventListener('click', function() {
      if (video.paused) {
        video.play();
        playButton.style.display = 'none';
      }
    });

    video.addEventListener('pause', function() {
      playButton.style.display = 'flex';
    });

    video.addEventListener('play', function() {
      playButton.style.display = 'none';
    });

    // Ensure the playback rate is set to 0.5 whenever the video loads or is reset
    video.addEventListener('loadedmetadata', function() {
      video.playbackRate = 0.75;
    });
  });
</script>

<!-- Features Section -->
<section id="features" class="py-20">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-12">Features</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ“</div>
        <h3 class="text-xl font-semibold mb-4">Detailed Logging</h3>
        <p>Record intensity, duration, triggers, and medications for each headache episode.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ“Š</div>
        <h3 class="text-xl font-semibold mb-4">Visual Insights</h3>
        <p>Gain valuable insights with interactive charts and graphs showing your headache patterns over time.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ©º</div>
        <h3 class="text-xl font-semibold mb-4">Share with Doctors</h3>
        <p>Generate shareable reports to collaborate effectively with your healthcare providers.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ’¾</div>
        <h3 class="text-xl font-semibold mb-4">Data Import/Export</h3>
        <p>Easily import and export your headache logs in CSV format for backup or analysis.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ”’</div>
        <h3 class="text-xl font-semibold mb-4">Privacy-Focused</h3>
        <p>We don't store any personally identifiable information. Users are identified by a username, not an email address.</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md">
        <div class="text-4xl mb-4">ğŸ‡ªğŸ‡º</div>
        <h3 class="text-xl font-semibold mb-4">EU-Based</h3>
        <p>Our servers are hosted in Germany, ensuring compliance with strict EU data protection regulations.</p>
      </div>
    </div>
  </div>
</section>

<!-- Open Source Section -->
<section class="bg-green-500 py-16">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4 text-white">Open Source & Free</h2>
    <p class="text-xl mb-8 text-white">Cluster Headache Tracker is completely free to use and open source under the GPL-3.0 license. Contribute to its development on GitHub!</p>
    <a href="https://github.com/crmne/cluster_headache_tracker" target="_blank" rel="noopener noreferrer" class="bg-white text-green-600 font-bold py-3 px-6 rounded-full text-lg hover:bg-green-100 transition duration-300">View on GitHub</a>
  </div>
</section>

<!-- Privacy Section -->
<section class="bg-blue-100 py-16">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4 text-blue-800">Your Privacy Matters</h2>
    <p class="text-xl mb-8 text-blue-700">We prioritize your privacy and data security. No personally identifiable information is stored, and all data is hosted on secure servers in Germany.</p>
    <div class="mt-4">
      <%= link_to "Read Our Privacy Policy", privacy_policy_path, class: "bg-blue-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-blue-600 transition duration-300" %>
    </div>
  </div>
</section>

<!-- Donation Section -->
<section id="donate" class="bg-yellow-100 py-16">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-4 text-yellow-800">Support This Project</h2>
    <p class="text-xl mb-8 text-yellow-700">Cluster Headache Tracker is free to use, but your support helps keep it running and improving. If you find this tool valuable, please consider making a donation.</p>
    <a href="https://buymeacoffee.com/crmne" target="_blank" rel="noopener noreferrer" class="bg-yellow-500 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-yellow-600 transition duration-300">ğŸ• Buy Me a Pizza</a>
  </div>
</section>

<!-- Call to Action -->
<section class="py-20">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-8">Ready to Take Control?</h2>
    <% if user_signed_in? %>
      <%= link_to "Start Logging Your Headaches", headache_logs_path, class: "bg-indigo-600 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-indigo-700 transition duration-300" %>
    <% else %>
      <%= link_to "Create Your Free Account", new_user_registration_path, class: "bg-indigo-600 text-white font-bold py-3 px-6 rounded-full text-lg hover:bg-indigo-700 transition duration-300" %>
    <% end %>
  </div>
</section>
