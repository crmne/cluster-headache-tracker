<% unless headache_logs.any? %>
  <div class="text-center py-12">
    <div class="max-w-md mx-auto">
      <p class="text-xl text-base-content/60 mb-8">No headache data available for charts</p>
      <p class="text-base-content/60 mb-8">Tap the <span class="font-bold text-primary">New</span> button to log your first headache</p>
    </div>
    <div class="flex flex-col items-center" style="height: calc(100vh - 40rem);">
      <div class="w-1 flex-grow bg-primary/20"></div>
      <svg class="w-12 h-12 text-primary animate-bounce mb-16 -mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </div>
<% else %>
  <div class="grid gap-4 grid-cols-1 mb-4"
       data-controller="charts"
       data-charts-intensity-value="<%= chart_data[:intensity_data].to_json %>"
       data-charts-trigger-value="<%= chart_data[:trigger_data].to_json %>"
       data-charts-medication-value="<%= chart_data[:medication_data].to_json %>"
       data-charts-hourly-value="<%= chart_data[:hourly_data].to_json %>"
       data-charts-attacks-per-day-value="<%= chart_data[:attacks_per_day_data].to_json %>"
       data-charts-duration-value="<%= chart_data[:duration_data].to_json %>">
    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Headache Intensity Over Time</h2>
        <div id="intensityChartContainer" class="h-[300px]">
          <% if chart_data[:intensity_data].any? %>
            <canvas id="intensityChart"></canvas>
          <% else %>
            <p>No intensity data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>

    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Number of Attacks per Day</h2>
        <div id="attacksPerDayChartContainer" class="h-[300px]">
          <% if chart_data[:attacks_per_day_data].any? %>
            <canvas id="attacksPerDayChart"></canvas>
          <% else %>
            <p>No attack data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>

    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Attack Duration Over Time</h2>
        <div id="durationChartContainer" class="h-[300px]">
          <% if chart_data[:duration_data].any? %>
            <canvas id="durationChart"></canvas>
          <% else %>
            <p>No duration data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>

    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Headache Frequency and Intensity by Time of Day</h2>
        <div id="hourlyChartContainer" class="h-[300px]">
          <% if chart_data[:hourly_data].any? %>
            <canvas id="hourlyChart"></canvas>
          <% else %>
            <p>No hourly data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="grid gap-4 grid-cols-2 mb-8">
    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Top 5 Triggers</h2>
        <div id="triggerChartContainer" class="h-[300px]">
          <% if chart_data[:trigger_data].any? %>
            <canvas id="triggerChart"></canvas>
          <% else %>
            <p>No trigger data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>

    <div class="card card-compact md:card-normal bg-base-100 shadow-md print:shadow-none print:break-inside-avoid">
      <div class="card-body">
        <h2 class="card-title">Top 5 Medications</h2>
        <div id="medicationChartContainer" class="h-[300px]">
          <% if chart_data[:medication_data].any? %>
            <canvas id="medicationChart"></canvas>
          <% else %>
            <p>No medication data available.</p>
          <% end %>
          <div class="loading-spinner hidden"></div>
        </div>
      </div>
    </div>
  </div>
<% end %>
